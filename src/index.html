<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <title>EJS Engine</title>
    </head>
    <body>
        <p>Image Upload</p>
        <input id="image" type="file" name="image" /><br /><br />
        <button type="submit" name="upload">Upload</button>
    </body>
    <script>
        image = document.getElementById("image");
        image.onchange = function(event) {
            var file = image.files[0];
            console.log(file);
            let form = new FormData();
            form.append('image', file);
            $.ajax({
            url: 'http://localhost:3333/upload/post',
            data: form,
            processData: false,
            contentType: false,
            type: 'POST',
            success: function (data) {
                console.log('foi');
                console.log(data); 
            }
            });
        }
    </script>
</html>